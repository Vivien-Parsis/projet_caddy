document.addEventListener("alpine:init",()=>{Alpine.data("todo",()=>({todoList:"",NewContentTodo:"",NewDateTodo:"",getTodo(){fetch("/api/getTodo",{method:"GET"}).then(o=>o.json()).then(o=>this.todoList=o).catch(o=>console.log(o))},addTodo(){fetch("/api/addTodo",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({content:this.NewContentTodo,date:this.NewDateTodo})}).then(()=>{this.NewContentTodo="",this.NewDateTodo=""}).then(()=>{this.getTodo()}).catch(o=>console.log(o))},removeTodo(o){fetch("/api/removeTodo",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({id:o})}).then(()=>{this.getTodo()}).catch(o=>console.log(o))},modifyTodo(o,e,t,n){fetch("/api/modifyTodo",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({id:o,content:e,date:t,done:n})}).then(()=>{this.getTodo()}).catch(o=>console.log(o))},doneTodo(o,e){fetch("/api/doneTodo",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({id:o,done:e})}).then(()=>{this.getTodo()}).catch(o=>console.log(o))}})),Alpine.data("modify",()=>({showModify:!1,newContent:"",newDate:"",newDone:"",modifyCurrent(o){""!=this.NewDate&&""!=this.newContent&&(this.modifyTodo(o,this.newContent,this.newDate,this.newDone),this.showModify=!1)},initDone(o,e){this.newDone=o,e.checked="1"==o},changeDone(o,e){this.newDone="1"==this.newDone?"0":"1",e.checked="1"==this.newDone,this.doneTodo(o,this.newDone)}}))});